<?xml version="1.0" encoding="UTF-8"?>
<bpel:process xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
              xmlns:ext="http://www.activebpel.org/2006/09/bpel/extension/query_handling"
              xmlns:aei="http://www.activebpel.org/2009/02/bpel/extension/ignorable"
              xmlns:asw="http://schemas.active-endpoints.com/wsdl/screenFlow/2010/10/avosAutomatedStep.wsdl"
              xmlns:xsd="http://www.w3.org/2001/XMLSchema"
              xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
              xmlns:dasx="http://www.informatica.com/das/1.0/xquery"
              xmlns:dasw="http://docs.active-endpoints/wsdl/data-access/2010/04/data-access.wsdl"
              xmlns:sf="http://schemas.active-endpoints.com/appmodules/screenflow/2010/10/avosScreenflow.xsd"
              xmlns:abx="http://www.activebpel.org/bpel/extension"
              xmlns:das="http://schemas.active-endpoints.com/data-access/2010/04/data-access.xsd"
              xmlns:ext2="http://www.activebpel.org/2011/08/bpel/extension/script"
              xmlns:ext1="http://www.activebpel.org/2009/06/bpel/extension/links"
              aei:editStyle="BPMN"
              ext1:linksAreTransitions="yes"
              ext:createTargetXPath="yes"
              ext:disableSelectionFailure="yes"
              name="execMultiSQL"
              suppressJoinFailure="yes"
              targetNamespace="http://execMultiSQL">
   <bpel:documentation>Version 2.1&#xD;
-added  support for binary types (blob,binary) passed as attachments&#xD;
Version 2.0&#xD;
-Added Support for up to 10 Data Sources&#xD;
</bpel:documentation>
   <bpmndi:BPMNDiagram xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
                       xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                       aei:bpelDigest=""
                       aei:editStyle="BPMN"
                       aei:layoutNeeded="false"
                       aei:modelVersion="5"
                       aei:objectId="147872424549810269"
                       aei:processInitiatorSim=""
                       isHorizontal="false">
      <bpmndi:BPMNPlane>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="147872970713511677"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="147872970713511677"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="147872981933011915"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="147872981933011915"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="147872984670911939"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="147872984670911939"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="147872988114411969"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="147872988114411969"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="147872990768112007"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="147872990768112007"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="147872993352112023"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="147872993352112023"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="162387167873401227"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="162387167873401227"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="162387174685801665"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="162387174685801665"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="162387177186101959"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="162387177186101959"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="162387178750401973"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="162387178750401973"/>
         <bpmndi:BPMNShape aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="162387181673702003"
                           aei:type="PARTNER_LINK"
                           aei:visible="false,false,false,false,false,"
                           bpmnElement="162387181673702003"/>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {875,50}"
                           aei:absoluteSize="DIM {54,13}"
                           aei:objectId="167753210759804089"
                           aei:parentElement="process"
                           aei:text="Version 2.1"
                           aei:type="DATAANNOTATION"
                           bpmnElement="167753210759804089">
            <dc:Bounds height="13" width="54" x="865" y="40"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {20,15}"
                           aei:absoluteSize="DIM {1865,835}"
                           aei:objectId="147872977452211901"
                           aei:type="SEQUENCE"
                           bpmnElement="147872977452211901"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="10" y="5"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {917,25}"
                           aei:absoluteSize="DIM {70,60}"
                           aei:attachments=""
                           aei:name="automatedStep"
                           aei:objectId="147872977451711897"
                           aei:principal=""
                           aei:text="automatedStep"
                           aei:type="RECEIVE"
                           bpmnElement="147872977451711897">
            <dc:Bounds height="60" width="70" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {925,82}"
                              aei:absoluteSize="DIM {81,26}"
                              aei:anchor.location="1"
                              aei:anchor.objectId="147872977451711897"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="147872977452411903"
                              aei:relative.location="LOC {-37,47}"
                              aei:text="automatedStep"
                              bpmnElement="147872977451711897label">
               <dc:Bounds height="26" width="81" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {890,110}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:name="Get DAS Request"
                           aei:objectId="147880737617878094"
                           aei:type="ASSIGN"
                           bpmnElement="147880737617878094">
            <dc:Bounds height="53" width="125" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {890,188}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:objectId="147880737617878096"
                           aei:type="VALIDATE"
                           bpmnElement="147880737617878096">
            <dc:Bounds height="53" width="125" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {30,266}"
                           aei:absoluteSize="DIM {1845,411}"
                           aei:objectId="147873004408518263"
                           aei:type="IF"
                           bpmnElement="147873004408518263"
                           isHorizontal="false">
            <dc:Bounds height="411" width="995" x="10" y="10"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {968,272}"
                              aei:absoluteSize="DIM {8,13}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="147049074850411289"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="147873004408518264"
                              aei:relative.location="LOC {6,-18}"
                              aei:text="If"
                              bpmnElement="147873004408518263label">
               <dc:Bounds height="13" width="8" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="dasx:getDataSourceID( $gAutomatedStepRequest,&#34;multiDataAccessRequest&#34; ) ='DS1'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {30,326}"
                           aei:absoluteSize="DIM {145,291}"
                           aei:objectId="147873004408518265"
                           aei:text="DS1"
                           aei:type="ELSE_IF"
                           bpmnElement="147873004408518263ifDef">
            <dc:Bounds height="121" width="145" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {73,320}"
                              aei:absoluteSize="DIM {22,26}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="147049074850411293"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="147873004408518268"
                              aei:relative.location="LOC {-39,-30}"
                              aei:text="DS1"
                              bpmnElement="147873004408518263ifDeflabel">
               <dc:Bounds height="26" width="22" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {40,365}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="execMultiSQL"
                           aei:objectId="147873004408518267"
                           aei:subprocessPath=""
                           aei:text="execSQL"
                           aei:type="INVOKE"
                           bpmnElement="147873004408518267">
            <dc:Bounds height="53" width="125" x="208" y="196"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {30,355}"
                           aei:absoluteSize="DIM {145,73}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="147873004408518266"
                           aei:type="Sequence"
                           bpmnElement="147873004408518267wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="78" width="150" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="dasx:getDataSourceID( $gAutomatedStepRequest,&#34;multiDataAccessRequest&#34; ) ='DS2'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {200,326}"
                           aei:absoluteSize="DIM {145,291}"
                           aei:objectId="147873004408518269"
                           aei:text="DS2"
                           aei:type="ELSE_IF"
                           bpmnElement="147873004408518269">
            <dc:Bounds height="121" width="145" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {248,304}"
                              aei:absoluteSize="DIM {22,26}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="147049081602011417"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="147873004408518272"
                              aei:relative.location="LOC {-34,-46}"
                              aei:text="DS2"
                              bpmnElement="147873004408518269label">
               <dc:Bounds height="26" width="22" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {210,365}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="execMultiSQL"
                           aei:objectId="147873004408518271"
                           aei:subprocessPath=""
                           aei:text="execSQL"
                           aei:type="INVOKE"
                           bpmnElement="147873004408518271">
            <dc:Bounds height="53" width="125" x="237" y="194"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {200,355}"
                           aei:absoluteSize="DIM {145,73}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="147873004408518270"
                           aei:type="Sequence"
                           bpmnElement="147873004408518271wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="78" width="150" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="dasx:getDataSourceID( $gAutomatedStepRequest,&#34;multiDataAccessRequest&#34; ) ='DS3'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {370,326}"
                           aei:absoluteSize="DIM {145,291}"
                           aei:objectId="147873004408518273"
                           aei:text="DS3"
                           aei:type="ELSE_IF"
                           bpmnElement="147873004408518273">
            <dc:Bounds height="121" width="145" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {433,308}"
                              aei:absoluteSize="DIM {22,26}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="147049081918011443"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="147873004408518276"
                              aei:relative.location="LOC {-19,-42}"
                              aei:text="DS3"
                              bpmnElement="147873004408518273label">
               <dc:Bounds height="26" width="22" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {380,365}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="execMultiSQL"
                           aei:objectId="147873004408518275"
                           aei:subprocessPath=""
                           aei:text="execSQL"
                           aei:type="INVOKE"
                           bpmnElement="147873004408518275">
            <dc:Bounds height="53" width="125" x="235" y="188"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {370,355}"
                           aei:absoluteSize="DIM {145,73}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="147873004408518274"
                           aei:type="Sequence"
                           bpmnElement="147873004408518275wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="78" width="150" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="dasx:getDataSourceID( $gAutomatedStepRequest,&#34;multiDataAccessRequest&#34; ) ='DS4'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {540,326}"
                           aei:absoluteSize="DIM {145,291}"
                           aei:objectId="147873004408518277"
                           aei:text="DS4"
                           aei:type="ELSE_IF"
                           bpmnElement="147873004408518277">
            <dc:Bounds height="121" width="145" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {603,307}"
                              aei:absoluteSize="DIM {22,26}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="147049082329111469"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="147873004408518280"
                              aei:relative.location="LOC {-19,-43}"
                              aei:text="DS4"
                              bpmnElement="147873004408518277label">
               <dc:Bounds height="26" width="22" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {550,365}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="execMultiSQL"
                           aei:objectId="147873004408518279"
                           aei:subprocessPath=""
                           aei:text="execSQL"
                           aei:type="INVOKE"
                           bpmnElement="147873004408518279">
            <dc:Bounds height="53" width="125" x="237" y="282"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {540,355}"
                           aei:absoluteSize="DIM {145,73}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="147873004408518278"
                           aei:type="Sequence"
                           bpmnElement="147873004408518279wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="78" width="150" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="dasx:getDataSourceID( $gAutomatedStepRequest,&#34;multiDataAccessRequest&#34; ) ='DS5'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {710,326}"
                           aei:absoluteSize="DIM {145,291}"
                           aei:objectId="147873004408518281"
                           aei:text="DS5"
                           aei:type="ELSE_IF"
                           bpmnElement="147873004408518281">
            <dc:Bounds height="121" width="145" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {773,311}"
                              aei:absoluteSize="DIM {22,26}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="147049082682211495"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="147873004408518284"
                              aei:relative.location="LOC {-19,-39}"
                              aei:text="DS5"
                              bpmnElement="147873004408518281label">
               <dc:Bounds height="26" width="22" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {720,365}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="execMultiSQL"
                           aei:objectId="147873004408518283"
                           aei:subprocessPath=""
                           aei:text="execSQL"
                           aei:type="INVOKE"
                           bpmnElement="147873004408518283">
            <dc:Bounds height="53" width="125" x="307" y="231"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {710,355}"
                           aei:absoluteSize="DIM {145,73}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="147873004408518282"
                           aei:type="Sequence"
                           bpmnElement="147873004408518283wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="78" width="150" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="dasx:getDataSourceID( $gAutomatedStepRequest,&#34;multiDataAccessRequest&#34; ) ='DS6'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {880,326}"
                           aei:absoluteSize="DIM {145,291}"
                           aei:objectId="162387158169500559"
                           aei:text="DS6"
                           aei:type="ELSE_IF"
                           bpmnElement="162387158169500559">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {945,310}"
                              aei:absoluteSize="DIM {19,13}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="162387158169500559"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="162387158169500561"
                              aei:relative.location="LOC {-17,-40}"
                              aei:text="DS6"
                              bpmnElement="162387158169500559label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {890,365}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="execMultiSQL"
                           aei:objectId="162387197046103665"
                           aei:subprocessPath=""
                           aei:text="execMultiSQL"
                           aei:type="INVOKE"
                           bpmnElement="162387197046103665">
            <dc:Bounds height="-1" width="-1" x="898" y="392"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {880,355}"
                           aei:absoluteSize="DIM {145,73}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="162387158169500563"
                           aei:type="Sequence"
                           bpmnElement="162387197046103665wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="dasx:getDataSourceID( $gAutomatedStepRequest,&#34;multiDataAccessRequest&#34; ) ='DS7'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {1050,326}"
                           aei:absoluteSize="DIM {145,291}"
                           aei:objectId="162387159130700585"
                           aei:text="DS7"
                           aei:type="ELSE_IF"
                           bpmnElement="162387159130700585">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1115,310}"
                              aei:absoluteSize="DIM {19,13}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="162387159130700585"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="162387159130700587"
                              aei:relative.location="LOC {-17,-40}"
                              aei:text="DS7"
                              bpmnElement="162387159130700585label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1060,365}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="execMultiSQL"
                           aei:objectId="162387194867302767"
                           aei:subprocessPath=""
                           aei:text="execMultiSQL"
                           aei:type="INVOKE"
                           bpmnElement="162387194867302767">
            <dc:Bounds height="-1" width="-1" x="893" y="391"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1050,355}"
                           aei:absoluteSize="DIM {145,73}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="162387159130700589"
                           aei:type="Sequence"
                           bpmnElement="162387194867302767wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="dasx:getDataSourceID( $gAutomatedStepRequest,&#34;multiDataAccessRequest&#34; ) ='DS8'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {1220,326}"
                           aei:absoluteSize="DIM {145,291}"
                           aei:objectId="162387159479700611"
                           aei:text="DS8"
                           aei:type="ELSE_IF"
                           bpmnElement="162387159479700611">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1285,310}"
                              aei:absoluteSize="DIM {19,13}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="162387159479700611"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="162387159479700613"
                              aei:relative.location="LOC {-17,-40}"
                              aei:text="DS8"
                              bpmnElement="162387159479700611label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1230,365}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="execMultiSQL"
                           aei:objectId="162387195208503011"
                           aei:subprocessPath=""
                           aei:text="execMultiSQL"
                           aei:type="INVOKE"
                           bpmnElement="162387195208503011">
            <dc:Bounds height="-1" width="-1" x="1067" y="397"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1220,355}"
                           aei:absoluteSize="DIM {145,73}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="162387159479700615"
                           aei:type="Sequence"
                           bpmnElement="162387195208503011wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="dasx:getDataSourceID( $gAutomatedStepRequest,&#34;multiDataAccessRequest&#34; ) ='DS9'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {1390,326}"
                           aei:absoluteSize="DIM {145,291}"
                           aei:objectId="162387159796600637"
                           aei:text="DS9"
                           aei:type="ELSE_IF"
                           bpmnElement="162387159796600637">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1455,310}"
                              aei:absoluteSize="DIM {19,13}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="162387159796600637"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="162387159796600639"
                              aei:relative.location="LOC {-17,-40}"
                              aei:text="DS9"
                              bpmnElement="162387159796600637label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1400,365}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="execMultiSQL"
                           aei:objectId="162387196046303393"
                           aei:subprocessPath=""
                           aei:text="execMultiSQL"
                           aei:type="INVOKE"
                           bpmnElement="162387196046303393">
            <dc:Bounds height="-1" width="-1" x="1283" y="397"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1390,355}"
                           aei:absoluteSize="DIM {145,73}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="162387159796600641"
                           aei:type="Sequence"
                           bpmnElement="162387196046303393wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:IF_EXPRESSION="dasx:getDataSourceID( $gAutomatedStepRequest,&#34;multiDataAccessRequest&#34; ) ='DS10'"
                           aei:IF_EXPR_LANG="urn:active-endpoints:expression-language:xquery1.0"
                           aei:absoluteLocation="LOC {1560,326}"
                           aei:absoluteSize="DIM {145,291}"
                           aei:objectId="162387190946102443"
                           aei:text="DS10"
                           aei:type="ELSE_IF"
                           bpmnElement="162387190946102443">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1620,310}"
                              aei:absoluteSize="DIM {25,13}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="162387190946102443"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="162387190947602445"
                              aei:relative.location="LOC {-22,-40}"
                              aei:text="DS10"
                              bpmnElement="162387190946102443label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1570,365}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:attachments=""
                           aei:name="execMultiSQL"
                           aei:objectId="162387197525303883"
                           aei:subprocessPath=""
                           aei:text="execMultiSQL"
                           aei:type="INVOKE"
                           bpmnElement="162387197525303883">
            <dc:Bounds height="-1" width="-1" x="1572" y="406"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1560,355}"
                           aei:absoluteSize="DIM {145,73}"
                           aei:actySimState="0"
                           aei:bpelName=""
                           aei:joinConditionComp=""
                           aei:objectId="162387190947602447"
                           aei:type="Sequence"
                           bpmnElement="162387197525303883wrappingSequence"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1730,326}"
                           aei:absoluteSize="DIM {145,291}"
                           aei:objectId="147873004408518285"
                           aei:type="ELSE"
                           bpmnElement="147873004408518263elseDef">
            <dc:Bounds height="291" width="145" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1803,337}"
                              aei:absoluteSize="DIM {21,26}"
                              aei:anchor.location="4"
                              aei:anchor.objectId="147049074850511299"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="147873004408518287"
                              aei:relative.location="LOC {-9,-13}"
                              aei:text="Else"
                              bpmnElement="147873004408518263elseDeflabel">
               <dc:Bounds height="26" width="21" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1730,355}"
                           aei:absoluteSize="DIM {145,243}"
                           aei:objectId="147873004408518286"
                           aei:type="SEQUENCE"
                           bpmnElement="147873004408518286"
                           isHorizontal="false">
            <dc:Bounds height="248" width="150" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1740,365}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:name="Set Process Title"
                           aei:objectId="148035250955507104"
                           aei:type="ASSIGN"
                           bpmnElement="148035250955507104">
            <dc:Bounds height="53" width="125" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1767,443}"
                           aei:absoluteSize="DIM {70,60}"
                           aei:objectId="147880797563793572"
                           aei:type="REPLY"
                           bpmnElement="147880797563793572">
            <dc:Bounds height="60" width="70" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1791,500}"
                              aei:absoluteSize="DIM {46,26}"
                              aei:anchor.location="1"
                              aei:anchor.objectId="147880797563793572"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="147880797563893574"
                              aei:relative.location="LOC {-21,47}"
                              aei:text="Message"
                              bpmnElement="147880797563793572label">
               <dc:Bounds height="26" width="46" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {1767,528}"
                           aei:absoluteSize="DIM {70,60}"
                           aei:backgroundImageLocation="icons/bpmn/activity/ActivityBlock.png"
                           aei:objectId="147880816670699924"
                           aei:type="EXIT"
                           bpmnElement="147880816670699924">
            <dc:Bounds height="60" width="70" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {1788,585}"
                              aei:absoluteSize="DIM {55,26}"
                              aei:anchor.location="1"
                              aei:anchor.objectId="147880816670699924"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="147880816670799926"
                              aei:relative.location="LOC {-24,47}"
                              aei:text="Terminate"
                              bpmnElement="147880816670699924label">
               <dc:Bounds height="26" width="55" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {890,702}"
                           aei:absoluteSize="DIM {125,53}"
                           aei:name="Set Process Output"
                           aei:objectId="148035219544703024"
                           aei:type="ASSIGN"
                           bpmnElement="148035219544703024">
            <dc:Bounds height="53" width="125" x="0" y="0"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:absoluteLocation="LOC {917,780}"
                           aei:absoluteSize="DIM {70,60}"
                           aei:name="automatedStep-Reply"
                           aei:objectId="147872977452211899"
                           aei:text="automatedStep-Reply"
                           aei:type="REPLY"
                           bpmnElement="147872977452211899">
            <dc:Bounds height="60" width="70" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:absoluteLocation="LOC {910,837}"
                              aei:absoluteSize="DIM {116,26}"
                              aei:anchor.location="1"
                              aei:anchor.objectId="147872977452211899"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="147872977452411905"
                              aei:relative.location="LOC {-52,47}"
                              aei:text="automatedStep-Reply"
                              bpmnElement="147872977452211899label">
               <dc:Bounds height="26" width="116" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:catchAllFaults="true"
                           aei:collapedIconLocation="icons/bpmn/activity/catch.png"
                           aei:constraint=""
                           aei:expanded="true"
                           aei:expandedSize="DIM {-1,-1}"
                           aei:imageLocation="icons/bpmn/activity/large/paletteCatchLarge.png"
                           aei:objectId="1478808568302108706"
                           aei:text="Catch All"
                           aei:type="CATCH_ALL"
                           bpmnElement="1478808568302108706"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="35" y="20"/>
            <bpmndi:BPMNLabel aei:anchor.location="0"
                              aei:anchor.objectId="1478808571390108724"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1478808571391108726"
                              aei:relative.location="LOC {-12,0}"
                              aei:text="Catch All"
                              bpmnElement="1478808568302108706label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1478808579088109028"
                           aei:type="SEQUENCE"
                           bpmnElement="1478808579088109028"
                           isHorizontal="false">
            <dc:Bounds height="-1" width="-1" x="-10" y="-10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:name="Set Process Title"
                           aei:objectId="148035238177304309"
                           aei:type="ASSIGN"
                           bpmnElement="148035238177304309">
            <dc:Bounds height="-1" width="-1" x="10" y="10"/>
         </bpmndi:BPMNShape>
         <bpmndi:BPMNShape aei:objectId="1478808579086109024"
                           aei:type="REPLY"
                           bpmnElement="1478808579086109024">
            <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            <bpmndi:BPMNLabel aei:anchor.location="1"
                              aei:anchor.objectId="1478808579086109024"
                              aei:backgroundColor="RGB {255,255,255}"
                              aei:objectId="1478808579086109026"
                              aei:relative.location="LOC {-21,47}"
                              aei:text="Message"
                              bpmnElement="1478808579086109024label">
               <dc:Bounds height="-1" width="-1" x="0" y="0"/>
            </bpmndi:BPMNLabel>
         </bpmndi:BPMNShape>
      </bpmndi:BPMNPlane>
   </bpmndi:BPMNDiagram>
   <bpel:extensions>
      <bpel:extension mustUnderstand="no"
                      namespace="http://www.activebpel.org/2009/02/bpel/extension/ignorable"/>
      <bpel:extension mustUnderstand="no"
                      namespace="http://www.omg.org/spec/BPMN/20100524/DI"/>
      <bpel:extension mustUnderstand="yes"
                      namespace="http://www.activebpel.org/2006/09/bpel/extension/query_handling"/>
      <bpel:extension mustUnderstand="yes"
                      namespace="http://www.activebpel.org/2009/06/bpel/extension/links"/>
      <bpel:extension mustUnderstand="yes"
                      namespace="http://www.activebpel.org/2011/08/bpel/extension/script"/>
   </bpel:extensions>
   <bpel:import importType="http://schemas.xmlsoap.org/wsdl/"
                namespace="http://schemas.active-endpoints.com/wsdl/screenFlow/2010/10/avosAutomatedStep.wsdl"/>
   <bpel:import importType="http://schemas.xmlsoap.org/wsdl/"
                namespace="http://docs.active-endpoints/wsdl/data-access/2010/04/data-access.wsdl"/>
   <bpel:import importType="http://modules.active-endpoints.com/2009/07/xquery"
                location="../xquery/infa-das.xq"
                namespace="http://www.informatica.com/das/1.0/xquery"/>
   <bpel:partnerLinks>
      <bpel:partnerLink aei:id="147872970713511677"
                        myRole="Provider"
                        name="DASAutomatedStep"
                        partnerLinkType="asw:AutomatedStepOperationsPLT"/>
      <bpel:partnerLink aei:id="147872981933011915"
                        name="DS1"
                        partnerLinkType="dasw:dataAccessPLT"
                        partnerRole="sender"/>
      <bpel:partnerLink aei:id="147872984670911939"
                        name="DS2"
                        partnerLinkType="dasw:dataAccessPLT"
                        partnerRole="sender"/>
      <bpel:partnerLink aei:id="147872988114411969"
                        name="DS3"
                        partnerLinkType="dasw:dataAccessPLT"
                        partnerRole="sender"/>
      <bpel:partnerLink aei:id="147872990768112007"
                        name="DS4"
                        partnerLinkType="dasw:dataAccessPLT"
                        partnerRole="sender"/>
      <bpel:partnerLink aei:id="147872993352112023"
                        name="DS5"
                        partnerLinkType="dasw:dataAccessPLT"
                        partnerRole="sender"/>
      <bpel:partnerLink aei:id="162387167873401227"
                        name="DS6"
                        partnerLinkType="dasw:dataAccessPLT"
                        partnerRole="sender"/>
      <bpel:partnerLink aei:id="162387174685801665"
                        name="DS7"
                        partnerLinkType="dasw:dataAccessPLT"
                        partnerRole="sender"/>
      <bpel:partnerLink aei:id="162387177186101959"
                        name="DS8"
                        partnerLinkType="dasw:dataAccessPLT"
                        partnerRole="sender"/>
      <bpel:partnerLink aei:id="162387178750401973"
                        name="DS9"
                        partnerLinkType="dasw:dataAccessPLT"
                        partnerRole="sender"/>
      <bpel:partnerLink aei:id="162387181673702003"
                        name="DS10"
                        partnerLinkType="dasw:dataAccessPLT"
                        partnerRole="sender"/>
   </bpel:partnerLinks>
   <bpel:variables>
      <bpel:variable element="sf:automatedStepRequest" name="gAutomatedStepRequest"/>
      <bpel:variable element="das:multiDataAccessRequest" name="gMultiDataAccessRequest"/>
      <bpel:variable element="das:multiDataAccessResponse" name="gMultiDataAccessResponse"/>
      <bpel:variable element="sf:automatedStepResponse" name="gAutomatedStepResponse"/>
   </bpel:variables>
   <bpel:faultHandlers>
      <bpel:catchAll aei:id="1478808568302108706">
         <bpel:sequence aei:id="1478808579088109028">
            <bpel:assign aei:id="148035238177304309" name="Set_Process_Title">
               <bpel:extensionAssignOperation>
                  <ext2:script expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">let $processName := abx:getProcessName() 
let $statementCount := concat ("statementCount:",count( $gMultiDataAccessRequest/das:sqlStatement))
let $result := "FAILED"
let $error := abx:getFaultString()

let $titleparts := ($processName, $statementCount, $result, $error)
return
abx:setProcessTitle(substring(string-join($titleparts," "),1,255))</ext2:script>
               </bpel:extensionAssignOperation>
            </bpel:assign>
            <bpel:scope aei:implicit="true">
               <bpel:variables>
                  <bpel:variable messageType="asw:automatedStepFault" name="parameters"/>
               </bpel:variables>
               <bpel:sequence>
                  <bpel:assign aei:assignType="XQUERY" aei:id="1478808584659109050">
                     <bpel:copy>
                        <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;sf:faultResponse xmlns:sf="http://schemas.active-endpoints.com/appmodules/screenflow/2010/10/avosScreenflow.xsd"&gt;
   &lt;sf:code&gt;{ abx:getFaultCode() }&lt;/sf:code&gt;
   &lt;sf:reason&gt;{ abx:getFaultString() }&lt;/sf:reason&gt;
   &lt;sf:details&gt;{ abx:getFaultDetail() }&lt;/sf:details&gt;
&lt;/sf:faultResponse&gt;</bpel:from>
                        <bpel:to part="automatedStepFaultResponse" variable="parameters"/>
                     </bpel:copy>
                  </bpel:assign>
                  <bpel:reply aei:id="1478808579086109024"
                              faultName="asw:fault"
                              operation="automatedStep"
                              partnerLink="DASAutomatedStep"
                              variable="parameters"/>
               </bpel:sequence>
            </bpel:scope>
         </bpel:sequence>
      </bpel:catchAll>
   </bpel:faultHandlers>
   <bpel:sequence aei:id="147872977452211901">
      <bpel:receive aei:id="147872977451711897"
                    createInstance="yes"
                    name="automatedStep"
                    operation="automatedStep"
                    partnerLink="DASAutomatedStep"
                    variable="gAutomatedStepRequest"/>
      <bpel:assign aei:id="147880737617878094" name="Get_DAS_Request">
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">let $dasRequest :=  dasx:getASParam( $gAutomatedStepRequest,"multiDataAccessRequest" )
return dasx:objectToDasRequest($dasRequest)</bpel:from>
            <bpel:to variable="gMultiDataAccessRequest"/>
         </bpel:copy>
         <bpel:extensionAssignOperation>
            <ext2:script>abx:copyAllAttachments( "gAutomatedStepRequest" , "gMultiDataAccessRequest" )</ext2:script>
         </bpel:extensionAssignOperation>
      </bpel:assign>
      <bpel:validate aei:id="147880737617878096" variables="gMultiDataAccessRequest"/>
      <bpel:if aei:id="147873004408518263">
         <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">dasx:getDataSourceID( $gAutomatedStepRequest,"multiDataAccessRequest" ) ='DS1'</bpel:condition>
         <bpel:invoke aei:id="147873004408518267"
                      inputVariable="gMultiDataAccessRequest"
                      name="execMultiSQL"
                      operation="execMultiSQL"
                      outputVariable="gMultiDataAccessResponse"
                      partnerLink="DS1"/>
         <bpel:elseif aei:id="147873004408518269">
            <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">dasx:getDataSourceID( $gAutomatedStepRequest,"multiDataAccessRequest" ) ='DS2'</bpel:condition>
            <bpel:invoke aei:id="147873004408518271"
                         inputVariable="gMultiDataAccessRequest"
                         name="execMultiSQL"
                         operation="execMultiSQL"
                         outputVariable="gMultiDataAccessResponse"
                         partnerLink="DS2"/>
         </bpel:elseif>
         <bpel:elseif aei:id="147873004408518273">
            <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">dasx:getDataSourceID( $gAutomatedStepRequest,"multiDataAccessRequest" ) ='DS3'</bpel:condition>
            <bpel:invoke aei:id="147873004408518275"
                         inputVariable="gMultiDataAccessRequest"
                         name="execMultiSQL"
                         operation="execMultiSQL"
                         outputVariable="gMultiDataAccessResponse"
                         partnerLink="DS3"/>
         </bpel:elseif>
         <bpel:elseif aei:id="147873004408518277">
            <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">dasx:getDataSourceID( $gAutomatedStepRequest,"multiDataAccessRequest" ) ='DS4'</bpel:condition>
            <bpel:invoke aei:id="147873004408518279"
                         inputVariable="gMultiDataAccessRequest"
                         name="execMultiSQL"
                         operation="execMultiSQL"
                         outputVariable="gMultiDataAccessResponse"
                         partnerLink="DS4"/>
         </bpel:elseif>
         <bpel:elseif aei:id="147873004408518281">
            <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">dasx:getDataSourceID( $gAutomatedStepRequest,"multiDataAccessRequest" ) ='DS5'</bpel:condition>
            <bpel:invoke aei:id="147873004408518283"
                         inputVariable="gMultiDataAccessRequest"
                         name="execMultiSQL"
                         operation="execMultiSQL"
                         outputVariable="gMultiDataAccessResponse"
                         partnerLink="DS5"/>
         </bpel:elseif>
         <bpel:elseif aei:id="162387158169500559">
            <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">dasx:getDataSourceID( $gAutomatedStepRequest,"multiDataAccessRequest" ) ='DS6'</bpel:condition>
            <bpel:invoke aei:id="162387197046103665"
                         inputVariable="gMultiDataAccessRequest"
                         name="execMultiSQL"
                         operation="execMultiSQL"
                         outputVariable="gMultiDataAccessResponse"
                         partnerLink="DS6"/>
         </bpel:elseif>
         <bpel:elseif aei:id="162387159130700585">
            <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">dasx:getDataSourceID( $gAutomatedStepRequest,"multiDataAccessRequest" ) ='DS7'</bpel:condition>
            <bpel:invoke aei:id="162387194867302767"
                         inputVariable="gMultiDataAccessRequest"
                         name="execMultiSQL"
                         operation="execMultiSQL"
                         outputVariable="gMultiDataAccessResponse"
                         partnerLink="DS7"/>
         </bpel:elseif>
         <bpel:elseif aei:id="162387159479700611">
            <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">dasx:getDataSourceID( $gAutomatedStepRequest,"multiDataAccessRequest" ) ='DS8'</bpel:condition>
            <bpel:invoke aei:id="162387195208503011"
                         inputVariable="gMultiDataAccessRequest"
                         name="execMultiSQL"
                         operation="execMultiSQL"
                         outputVariable="gMultiDataAccessResponse"
                         partnerLink="DS8"/>
         </bpel:elseif>
         <bpel:elseif aei:id="162387159796600637">
            <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">dasx:getDataSourceID( $gAutomatedStepRequest,"multiDataAccessRequest" ) ='DS9'</bpel:condition>
            <bpel:invoke aei:id="162387196046303393"
                         inputVariable="gMultiDataAccessRequest"
                         name="execMultiSQL"
                         operation="execMultiSQL"
                         outputVariable="gMultiDataAccessResponse"
                         partnerLink="DS9"/>
         </bpel:elseif>
         <bpel:elseif aei:id="162387190946102443">
            <bpel:condition expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">dasx:getDataSourceID( $gAutomatedStepRequest,"multiDataAccessRequest" ) ='DS10'</bpel:condition>
            <bpel:invoke aei:id="162387197525303883"
                         inputVariable="gMultiDataAccessRequest"
                         name="execMultiSQL"
                         operation="execMultiSQL"
                         outputVariable="gMultiDataAccessResponse"
                         partnerLink="DS10"/>
         </bpel:elseif>
         <bpel:else aei:id="147873004408518285">
            <bpel:sequence aei:id="147873004408518286" aei:implicit="yes">
               <bpel:assign aei:id="148035250955507104" name="Set_Process_Title">
                  <bpel:extensionAssignOperation>
                     <ext2:script expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">let $processName := abx:getProcessName() 
let $statementCount := concat ("statementCount:",count( $gMultiDataAccessRequest/das:sqlStatement))
let $result := concat("FAILED - Invalid Data Source ",dasx:getDataSourceID( $gAutomatedStepRequest,"multiDataAccessRequest" ))

let $titleparts := ($processName, $statementCount, $result)
return
abx:setProcessTitle(substring(string-join($titleparts," "),1,255))</ext2:script>
                  </bpel:extensionAssignOperation>
               </bpel:assign>
               <bpel:scope aei:implicit="true">
                  <bpel:variables>
                     <bpel:variable messageType="asw:automatedStepValidationFault" name="parameters"/>
                  </bpel:variables>
                  <bpel:sequence>
                     <bpel:assign aei:assignType="XQUERY" aei:id="147880799787093706">
                        <bpel:copy>
                           <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">&lt;sf:invalidData xmlns:sf="http://schemas.active-endpoints.com/appmodules/screenflow/2010/10/avosScreenflow.xsd"&gt;
  &lt;sf:field name="multiDataAccessRequest" reason="Invalid or missing Data Source ID must be DS1-DS5" required="true"/&gt;
&lt;/sf:invalidData&gt;
</bpel:from>
                           <bpel:to part="automatedStepValidationFault" variable="parameters"/>
                        </bpel:copy>
                     </bpel:assign>
                     <bpel:reply aei:id="147880797563793572"
                                 faultName="asw:invalidData"
                                 operation="automatedStep"
                                 partnerLink="DASAutomatedStep"
                                 variable="parameters"/>
                  </bpel:sequence>
               </bpel:scope>
               <bpel:exit aei:id="147880816670699924"/>
            </bpel:sequence>
         </bpel:else>
      </bpel:if>
      <bpel:assign aei:id="148035219544703024" name="Set_Process_Output">
         <bpel:extensionAssignOperation>
            <ext2:script expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">let $processName := abx:getProcessName() 
let $statementCount := concat ("statementCount:",count( $gMultiDataAccessRequest/das:sqlStatement))
let $result := "SUCCESS"

let $titleparts := ($processName, $statementCount, $result)
return
abx:setProcessTitle(substring(string-join($titleparts," "),1,255))</ext2:script>
         </bpel:extensionAssignOperation>
         <bpel:copy>
            <bpel:from expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">(: Generate attachment cids :)
let $cids-sequence := 
   for $attachmentIndex in (1 to abx:getAttachmentCount('gMultiDataAccessResponse'))
      return concat("cid:", abx:getAttachmentProperty('gMultiDataAccessResponse',$attachmentIndex ,'Content-Id' ))
let $cids := string-join($cids-sequence, ";") 
return
&lt;sf:automatedStepResponse xmlns:sf="http://schemas.active-endpoints.com/appmodules/screenflow/2010/10/avosScreenflow.xsd"&gt;
    &lt;sf:fields&gt;
        &lt;sf:field name="multiDataAccessResponse"&gt;{ dasx:dasResponseToPO( $gMultiDataAccessResponse ) }&lt;/sf:field&gt;  
        &lt;sf:field name="dataAccessResponseAttachments"&gt;{ $cids }&lt;/sf:field&gt;
    &lt;/sf:fields&gt;
&lt;/sf:automatedStepResponse&gt;</bpel:from>
            <bpel:to variable="gAutomatedStepResponse"/>
         </bpel:copy>
         <bpel:extensionAssignOperation>
            <ext2:script expressionLanguage="urn:active-endpoints:expression-language:xquery1.0">abx:copyAllAttachments('gMultiDataAccessResponse','gAutomatedStepResponse' )</ext2:script>
         </bpel:extensionAssignOperation>
      </bpel:assign>
      <bpel:reply aei:id="147872977452211899"
                  name="automatedStep-Reply"
                  operation="automatedStep"
                  partnerLink="DASAutomatedStep"
                  variable="gAutomatedStepResponse"/>
   </bpel:sequence>
</bpel:process>
